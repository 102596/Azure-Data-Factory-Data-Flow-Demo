{
	"name": "Dedupe2",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "names",
						"type": "DatasetReference"
					},
					"name": "source1",
					"script": "source(output(\n\t\tacctnum as string,\n\t\tfullname as string,\n\t\tphone as string,\n\t\tzip as string\n\t),\n\tallowSchemaDrift: true,\n\tvalidateSchema: false) ~> source1"
				}
			],
			"transformations": [
				{
					"name": "FuzzyMatch",
					"script": "source1 derive(SoundexValue = soundex(fullname)) ~> FuzzyMatch"
				},
				{
					"name": "OriginSelect",
					"script": "FuzzyMatch select(mapColumn(\n\t\tacctnum,\n\t\tfullname,\n\t\tphone,\n\t\tzip,\n\t\tSoundexValue\n\t))~> OriginSelect"
				},
				{
					"name": "CopySelect",
					"script": "FuzzyMatch select(mapColumn(\n\t\tProductID,\n\t\tName,\n\t\tProductNumber,\n\t\tColor,\n\t\tStandardCost,\n\t\tListPrice,\n\t\tSize,\n\t\tWeight,\n\t\tProductCategoryID,\n\t\tProductModelID,\n\t\tSoundexValue\n\t))~> CopySelect"
				},
				{
					"name": "Exists1",
					"script": "OriginSelect, CopySelect exists(SoundexValue == CopySelect@SoundexValue,\n\tnegate:false,\n\tbroadcast: 'none')~> Exists1"
				}
			]
		}
	}
}